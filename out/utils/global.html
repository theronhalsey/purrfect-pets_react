<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <title>JSDoc: Global</title>

    <script src="scripts/prettify/prettify.js"> </script>
    <script src="scripts/prettify/lang-css.js"> </script>
    <!--[if lt IE 9]>
      <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->
    <link type="text/css" rel="stylesheet" href="styles/prettify-tomorrow.css">
    <link type="text/css" rel="stylesheet" href="styles/jsdoc-default.css">
</head>

<body>

<div id="main">

    <h1 class="page-title">Global</h1>

    




<section>

<header>
    
        <h2></h2>
        
    
</header>

<article>
    <div class="container-overview">
    
        

        


<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    
</dl>


        
    
    </div>

    

    

    

    

    

    

    
        <h3 class="subsection-title">Members</h3>

        
            
<h4 class="name" id="animalTypes"><span class="type-signature">(constant) </span>animalTypes<span class="type-signature"></span></h4>




<div class="description">
    array for storing string of pet types
</div>







<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="encodeDecodeUserPrefs.js.html">encodeDecodeUserPrefs.js</a>, <a href="encodeDecodeUserPrefs.js.html#line23">line 23</a>
    </li></ul></dd>
    

    

    

    
</dl>






        
            
<h4 class="name" id="otherPrefs"><span class="type-signature">(constant) </span>otherPrefs<span class="type-signature"></span></h4>




<div class="description">
    array for storing other user preferences as strings for URL building
</div>







<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="encodeDecodeUserPrefs.js.html">encodeDecodeUserPrefs.js</a>, <a href="encodeDecodeUserPrefs.js.html#line27">line 27</a>
    </li></ul></dd>
    

    

    

    
</dl>






        
            
<h4 class="name" id="userPrefsStrToInt"><span class="type-signature">(constant) </span>userPrefsStrToInt<span class="type-signature"></span></h4>




<div class="description">
    object for mapping preference strings to an integer which is a power of 2
</div>







<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="encodeDecodeUserPrefs.js.html">encodeDecodeUserPrefs.js</a>, <a href="encodeDecodeUserPrefs.js.html#line4">line 4</a>
    </li></ul></dd>
    

    

    

    
</dl>






        
    

    
        <h3 class="subsection-title">Methods</h3>

        
            

    

    
    <h4 class="name" id="checkEmailAvailability"><span class="type-signature">(async) </span>checkEmailAvailability<span class="signature">(email)</span><span class="type-signature"> &rarr; {Boolean}</span></h4>
    

    



<div class="description">
    Checks if the email exists in the database
</div>









    <h5>Parameters:</h5>
    

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>email</code></td>
            

            <td class="type">
            
                
<span class="param-type">String</span>


            
            </td>

            

            

            <td class="description last">the email of the user</td>
        </tr>

    
    </tbody>
</table>






<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="db_database.js.html">db/database.js</a>, <a href="db_database.js.html#line99">line 99</a>
    </li></ul></dd>
    

    

    

    
</dl>















<h5>Returns:</h5>

        
<div class="param-desc">
    - true if email exists in the database
</div>



<dl>
    <dt>
        Type
    </dt>
    <dd>
        
<span class="param-type">Boolean</span>


    </dd>
</dl>

    





        
            

    

    
    <h4 class="name" id="checkHashedPass"><span class="type-signature">(async) </span>checkHashedPass<span class="signature">(hashedPass, email)</span><span class="type-signature"> &rarr; {Boolean}</span></h4>
    

    



<div class="description">
    Checks if the provided password hash and email are in the same row of the database
</div>









    <h5>Parameters:</h5>
    

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>hashedPass</code></td>
            

            <td class="type">
            
                
<span class="param-type">String</span>


            
            </td>

            

            

            <td class="description last">the hashedPass of the user</td>
        </tr>

    

        <tr>
            
                <td class="name"><code>email</code></td>
            

            <td class="type">
            
                
<span class="param-type">String</span>


            
            </td>

            

            

            <td class="description last">the email of the user</td>
        </tr>

    
    </tbody>
</table>






<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="db_database.js.html">db/database.js</a>, <a href="db_database.js.html#line119">line 119</a>
    </li></ul></dd>
    

    

    

    
</dl>















<h5>Returns:</h5>

        
<div class="param-desc">
    - true if hashed pass and email match row entries
</div>



<dl>
    <dt>
        Type
    </dt>
    <dd>
        
<span class="param-type">Boolean</span>


    </dd>
</dl>

    





        
            

    

    
    <h4 class="name" id="checkUsernameAvailability"><span class="type-signature">(async) </span>checkUsernameAvailability<span class="signature">(username)</span><span class="type-signature"> &rarr; {Boolean}</span></h4>
    

    



<div class="description">
    Checks if the username exists in the database
</div>









    <h5>Parameters:</h5>
    

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>username</code></td>
            

            <td class="type">
            
                
<span class="param-type">String</span>


            
            </td>

            

            

            <td class="description last">the username of the user</td>
        </tr>

    
    </tbody>
</table>






<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="db_database.js.html">db/database.js</a>, <a href="db_database.js.html#line80">line 80</a>
    </li></ul></dd>
    

    

    

    
</dl>















<h5>Returns:</h5>

        
<div class="param-desc">
    - true if username exists in the database
</div>



<dl>
    <dt>
        Type
    </dt>
    <dd>
        
<span class="param-type">Boolean</span>


    </dd>
</dl>

    





        
            

    

    
    <h4 class="name" id="connectconnectsbackendtodatabase"><span class="type-signature"></span>connect connects back end to database<span class="signature">()</span><span class="type-signature"></span></h4>
    

    















<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="db_database.js.html">db/database.js</a>, <a href="db_database.js.html#line12">line 12</a>
    </li></ul></dd>
    

    

    

    
</dl>




















        
            

    

    
    <h4 class="name" id="create"><span class="type-signature">(async) </span>create<span class="signature">(data)</span><span class="type-signature"> &rarr; {Object|Error}</span></h4>
    

    



<div class="description">
    Route for creating a new user
</div>









    <h5>Parameters:</h5>
    

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>data</code></td>
            

            <td class="type">
            
                
<span class="param-type">Object</span>


            
            </td>

            

            

            <td class="description last">new user's information</td>
        </tr>

    
    </tbody>
</table>






<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="db_database.js.html">db/database.js</a>, <a href="db_database.js.html#line60">line 60</a>
    </li></ul></dd>
    

    

    

    
</dl>















<h5>Returns:</h5>
<ul>
        <li>
<div class="param-desc">
    201 - response for new user added to database
</div>



<dl>
    <dt>
        Type
    </dt>
    <dd>
        
<span class="param-type">Object</span>


    </dd>
</dl>
</li>
    
        <li>
<div class="param-desc">
    500 - Server error
</div>



<dl>
    <dt>
        Type
    </dt>
    <dd>
        
<span class="param-type">Error</span>


    </dd>
</dl>
</li>
    </ul>





        
            

    

    
    <h4 class="name" id="delete"><span class="type-signature">(async) </span>delete<span class="signature">(id)</span><span class="type-signature"> &rarr; {number}</span></h4>
    

    



<div class="description">
    Deletes a user from the database based on the provided ID.
</div>









    <h5>Parameters:</h5>
    

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>id</code></td>
            

            <td class="type">
            
                
<span class="param-type">number</span>


            
            </td>

            

            

            <td class="description last">The ID of the user to delete.</td>
        </tr>

    
    </tbody>
</table>






<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="db_database.js.html">db/database.js</a>, <a href="db_database.js.html#line282">line 282</a>
    </li></ul></dd>
    

    

    

    
</dl>















<h5>Returns:</h5>

        
<div class="param-desc">
    - The number of rows affected.
</div>



<dl>
    <dt>
        Type
    </dt>
    <dd>
        
<span class="param-type">number</span>


    </dd>
</dl>

    





        
            

    

    
    <h4 class="name" id="disconnectdisconnectsbackendfromdatabase"><span class="type-signature"></span>disconnect disconnects back end from database<span class="signature">()</span><span class="type-signature"></span></h4>
    

    















<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="db_database.js.html">db/database.js</a>, <a href="db_database.js.html#line30">line 30</a>
    </li></ul></dd>
    

    

    

    
</dl>




















        
            

    

    
    <h4 class="name" id="executeQuerydisconnectsbackendfromdatabase"><span class="type-signature"></span>executeQuery disconnects back end from database<span class="signature">(query)</span><span class="type-signature"> &rarr; {Object}</span></h4>
    

    











    <h5>Parameters:</h5>
    

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>query</code></td>
            

            <td class="type">
            
                
<span class="param-type">String</span>


            
            </td>

            

            

            <td class="description last">SQL query string</td>
        </tr>

    
    </tbody>
</table>






<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="db_database.js.html">db/database.js</a>, <a href="db_database.js.html#line42">line 42</a>
    </li></ul></dd>
    

    

    

    
</dl>















<h5>Returns:</h5>

        
<div class="param-desc">
    result of SQL query
</div>



<dl>
    <dt>
        Type
    </dt>
    <dd>
        
<span class="param-type">Object</span>


    </dd>
</dl>

    





        
            

    

    
    <h4 class="name" id="fetchLikedPetDetails"><span class="type-signature">(async) </span>fetchLikedPetDetails<span class="signature">(petIds)</span><span class="type-signature"> &rarr; {Promise.&lt;Array.&lt;Object>>}</span></h4>
    

    



<div class="description">
    Fetches the details of liked pets from the Petfinder API.
</div>









    <h5>Parameters:</h5>
    

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>petIds</code></td>
            

            <td class="type">
            
                
<span class="param-type">Array.&lt;string></span>


            
            </td>

            

            

            <td class="description last">The IDs of the pets.</td>
        </tr>

    
    </tbody>
</table>






<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="petfinder_Petfinder.js.html">petfinder/Petfinder.js</a>, <a href="petfinder_Petfinder.js.html#line83">line 83</a>
    </li></ul></dd>
    

    

    

    
</dl>















<h5>Returns:</h5>

        
<div class="param-desc">
    An array of pet details.
</div>



<dl>
    <dt>
        Type
    </dt>
    <dd>
        
<span class="param-type">Promise.&lt;Array.&lt;Object>></span>


    </dd>
</dl>

    





        
            

    

    
    <h4 class="name" id="getAccessTokengetsapiaccesstokenfrompetfindersetsglobalvariabletothereturnedtokenandsettimeoutforthetokenexpirestosettheaccessTokenstringbackto''"><span class="type-signature"></span>getAccessToken gets api access token from petfinder
sets global variable to the returned token and set timeout for the token expires to set the accessToken string back to ''<span class="signature">()</span><span class="type-signature"></span></h4>
    

    















<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="petfinder_Petfinder.js.html">petfinder/Petfinder.js</a>, <a href="petfinder_Petfinder.js.html#line14">line 14</a>
    </li></ul></dd>
    

    

    

    
</dl>




















        
            

    

    
    <h4 class="name" id="getPetsfunctionforencodingperferencestringsintoanintegerforstoringinthedatabaseusesuserPrefsStrToIntobjecttomapthestringstopowersof2mapstheelementsfromthestringarraytothepowersof2andtakesasumtobetheintegerrepresentationoftheuserspreferencesresultingintegeractsasabitarraywitha1setwheneverapreferrenceistrue"><span class="type-signature"></span>getPets
function for encoding perference strings into an integer for storing in the database
uses userPrefsStrToInt object to map the strings to powers of 2
maps the elements from the string array to the powers of 2 and takes a sum to be the integer representation of the users preferences
resulting integer acts as a bit array with a 1 set whenever a preferrence is true<span class="signature">(page, prefs)</span><span class="type-signature"> &rarr; {Array}</span></h4>
    

    











    <h5>Parameters:</h5>
    

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>page</code></td>
            

            <td class="type">
            
                
<span class="param-type">Number</span>


            
            </td>

            

            

            <td class="description last">page to request pets from</td>
        </tr>

    

        <tr>
            
                <td class="name"><code>prefs</code></td>
            

            <td class="type">
            
                
<span class="param-type">Number</span>


            
            </td>

            

            

            <td class="description last">integer value of the user preferences</td>
        </tr>

    
    </tbody>
</table>






<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="petfinder_Petfinder.js.html">petfinder/Petfinder.js</a>, <a href="petfinder_Petfinder.js.html#line33">line 33</a>
    </li></ul></dd>
    

    

    

    
</dl>















<h5>Returns:</h5>

        
<div class="param-desc">
    an array of pets matching the user preferences
</div>



<dl>
    <dt>
        Type
    </dt>
    <dd>
        
<span class="param-type">Array</span>


    </dd>
</dl>

    





        
            

    

    
    <h4 class="name" id="getSalt"><span class="type-signature">(async) </span>getSalt<span class="signature">(email)</span><span class="type-signature"> &rarr; {String}</span></h4>
    

    



<div class="description">
    Gets the salt for the user with the specified email address
</div>









    <h5>Parameters:</h5>
    

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>email</code></td>
            

            <td class="type">
            
                
<span class="param-type">String</span>


            
            </td>

            

            

            <td class="description last">the email of the user</td>
        </tr>

    
    </tbody>
</table>






<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="db_database.js.html">db/database.js</a>, <a href="db_database.js.html#line159">line 159</a>
    </li></ul></dd>
    

    

    

    
</dl>















<h5>Returns:</h5>

        
<div class="param-desc">
    - user's salt
</div>



<dl>
    <dt>
        Type
    </dt>
    <dd>
        
<span class="param-type">String</span>


    </dd>
</dl>

    





        
            

    

    
    <h4 class="name" id="getUserAnimalPrefsFromIntfunctionfordecodingtheintegerrepresentationoftheuserpreferencestogettheiranimaltypesreturnsanarrayoftheuser'sanimaltypepreferencesfiltersthearrayofallanimaltypesbyperformingabit-wiseANDwiththeuserprefint,and2**(indexvalueofpet)ifthatbitwassetwhentheintegerwasencoded,itwillreturntrueandthatanimalwillbeaddedtotheoutputarray"><span class="type-signature"></span>getUserAnimalPrefsFromInt
function for decoding the integer representation of the user preferences to get their animal types
returns an array of the user's animal type preferences
filters the array of all animal types by performing a bit-wise AND with the user pref int, and 2**(index value of pet)
if that bit was set when the integer was encoded, it will return true and that animal will be added to the output array<span class="signature">(prefsInt)</span><span class="type-signature"> &rarr; {Array}</span></h4>
    

    











    <h5>Parameters:</h5>
    

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>prefsInt</code></td>
            

            <td class="type">
            
                
<span class="param-type">Number</span>


            
            </td>

            

            

            <td class="description last">Integer representation of user prefs</td>
        </tr>

    
    </tbody>
</table>






<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="encodeDecodeUserPrefs.js.html">encodeDecodeUserPrefs.js</a>, <a href="encodeDecodeUserPrefs.js.html#line52">line 52</a>
    </li></ul></dd>
    

    

    

    
</dl>















<h5>Returns:</h5>

        
<div class="param-desc">
    Returns array of user animal prefs from integer value.
</div>



<dl>
    <dt>
        Type
    </dt>
    <dd>
        
<span class="param-type">Array</span>


    </dd>
</dl>

    




    <h5>Examples</h5>
    
    <pre class="prettyprint"><code>// returns  ['Dog', 'Cat', 'Rabbit', 'Small-Furry', 'Horse', 'Bird', 'Scales-Fins-Other', 'Barnyard']
getUserAnimalPrefsFromInt(8191);</code></pre>

    <pre class="prettyprint"><code>// returns ['Dog', 'Cat']
getUserAnimalPrefsFromInt(3);</code></pre>



        
            

    

    
    <h4 class="name" id="getUserByEmail"><span class="type-signature">(async) </span>getUserByEmail<span class="signature">(email)</span><span class="type-signature"> &rarr; {object}</span></h4>
    

    



<div class="description">
    Get the user's info based on the provided email.
</div>









    <h5>Parameters:</h5>
    

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>email</code></td>
            

            <td class="type">
            
                
<span class="param-type">string</span>


            
            </td>

            

            

            <td class="description last">the email of the user</td>
        </tr>

    
    </tbody>
</table>






<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="db_database.js.html">db/database.js</a>, <a href="db_database.js.html#line183">line 183</a>
    </li></ul></dd>
    

    

    

    
</dl>















<h5>Returns:</h5>

        
<div class="param-desc">
    - the user's info
</div>



<dl>
    <dt>
        Type
    </dt>
    <dd>
        
<span class="param-type">object</span>


    </dd>
</dl>

    





        
            

    

    
    <h4 class="name" id="getUserLikesByEmail"><span class="type-signature">(async) </span>getUserLikesByEmail<span class="signature">(email)</span><span class="type-signature"> &rarr; {Promise.&lt;string>}</span></h4>
    

    



<div class="description">
    Retrieves the likes for a specific user by email from the database.
</div>









    <h5>Parameters:</h5>
    

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>email</code></td>
            

            <td class="type">
            
                
<span class="param-type">string</span>


            
            </td>

            

            

            <td class="description last">The email of the user.</td>
        </tr>

    
    </tbody>
</table>






<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="db_database.js.html">db/database.js</a>, <a href="db_database.js.html#line263">line 263</a>
    </li></ul></dd>
    

    

    

    
</dl>















<h5>Returns:</h5>

        
<div class="param-desc">
    The likes of the user.
</div>



<dl>
    <dt>
        Type
    </dt>
    <dd>
        
<span class="param-type">Promise.&lt;string></span>


    </dd>
</dl>

    





        
            

    

    
    <h4 class="name" id="getUsernameByEmail"><span class="type-signature">(async) </span>getUsernameByEmail<span class="signature">(email)</span><span class="type-signature"> &rarr; {Object}</span></h4>
    

    



<div class="description">
    Get user's username by email
</div>









    <h5>Parameters:</h5>
    

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>email</code></td>
            

            <td class="type">
            
                
<span class="param-type">String</span>


            
            </td>

            

            

            <td class="description last">the email of the user</td>
        </tr>

    
    </tbody>
</table>






<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="db_database.js.html">db/database.js</a>, <a href="db_database.js.html#line174">line 174</a>
    </li></ul></dd>
    

    

    

    
</dl>















<h5>Returns:</h5>

        
<div class="param-desc">
    - object containing user's username
</div>



<dl>
    <dt>
        Type
    </dt>
    <dd>
        
<span class="param-type">Object</span>


    </dd>
</dl>

    





        
            

    

    
    <h4 class="name" id="makeUserPrefsURLfunctionforbuildingthepartoftherequesturlforperfinderthatincludestheusersotherpreferencesreturnsastringtotheconcatonatedontotherestoftherequestURLdoessofollowingthesamemethodologyasprefsToInt,butstartsatanoffsetbasedonthelengthoftheanimalTypesarrayeachstringthatreturnstruefrombit-wiseANDwillbeconcatonatedontotheprefsUrlstring"><span class="type-signature"></span>makeUserPrefsURL
function for building the part of the request url for perfinder that includes the users other preferences
returns a string to the concatonated onto the rest of the request URL
does so following the same methodology as prefsToInt, but starts at an offset based on the length of the animalTypes array
each string that returns true from bit-wise AND will be concatonated onto the prefsUrl string<span class="signature">(prefsInt)</span><span class="type-signature"> &rarr; {String}</span></h4>
    

    











    <h5>Parameters:</h5>
    

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>prefsInt</code></td>
            

            <td class="type">
            
                
<span class="param-type">Number</span>


            
            </td>

            

            

            <td class="description last">Integer representation of user prefs</td>
        </tr>

    
    </tbody>
</table>






<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="encodeDecodeUserPrefs.js.html">encodeDecodeUserPrefs.js</a>, <a href="encodeDecodeUserPrefs.js.html#line71">line 71</a>
    </li></ul></dd>
    

    

    

    
</dl>















<h5>Returns:</h5>

        
<div class="param-desc">
    Returns string with other user prefrences
</div>



<dl>
    <dt>
        Type
    </dt>
    <dd>
        
<span class="param-type">String</span>


    </dd>
</dl>

    




    <h5>Example</h5>
    
    <pre class="prettyprint"><code>// returns  &amp;good_with_dogs=true&amp;good_with_cats=true'
makeUserPrefsURL(1536);</code></pre>



        
            

    

    
    <h4 class="name" id="prefsToIntfunctionforencodingperferencestringsintoanintegerforstoringinthedatabaseusesuserPrefsStrToIntobjecttomapthestringstopowersof2mapstheelementsfromthestringarraytothepowersof2andtakesasumtobetheintegerrepresentationoftheuserspreferencesresultingintegeractsasabitarraywitha1setwheneverapreferrenceistrue"><span class="type-signature"></span>prefsToInt
function for encoding perference strings into an integer for storing in the database
uses userPrefsStrToInt object to map the strings to powers of 2
maps the elements from the string array to the powers of 2 and takes a sum to be the integer representation of the users preferences
resulting integer acts as a bit array with a 1 set whenever a preferrence is true<span class="signature">(prefsStringArray)</span><span class="type-signature"> &rarr; {Number}</span></h4>
    

    











    <h5>Parameters:</h5>
    

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>prefsStringArray</code></td>
            

            <td class="type">
            
                
<span class="param-type">Array</span>


            
            </td>

            

            

            <td class="description last">array of strings to be parsed</td>
        </tr>

    
    </tbody>
</table>






<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="encodeDecodeUserPrefs.js.html">encodeDecodeUserPrefs.js</a>, <a href="encodeDecodeUserPrefs.js.html#line29">line 29</a>
    </li></ul></dd>
    

    

    

    
</dl>















<h5>Returns:</h5>

        
<div class="param-desc">
    Returns integer value of the user preferences.
</div>



<dl>
    <dt>
        Type
    </dt>
    <dd>
        
<span class="param-type">Number</span>


    </dd>
</dl>

    




    <h5>Examples</h5>
    
    <pre class="prettyprint"><code>// returns 8191
prefsToInt(['Dog', 'Cat', 'Rabbit', 'Small-Furry', 'Horse', 'Bird', 'Scales-Fins-Other', 'Barnyard']);</code></pre>

    <pre class="prettyprint"><code>// returns 3
prefsToInt(['Dog', 'Cat']);</code></pre>



        
            

    

    
    <h4 class="name" id="readIdByUsername"><span class="type-signature">(async) </span>readIdByUsername<span class="signature">(username)</span><span class="type-signature"> &rarr; {Object}</span></h4>
    

    



<div class="description">
    Get the user's id based on the provided username.
</div>









    <h5>Parameters:</h5>
    

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>username</code></td>
            

            <td class="type">
            
                
<span class="param-type">String</span>


            
            </td>

            

            

            <td class="description last">the username of the user</td>
        </tr>

    
    </tbody>
</table>






<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="db_database.js.html">db/database.js</a>, <a href="db_database.js.html#line144">line 144</a>
    </li></ul></dd>
    

    

    

    
</dl>















<h5>Returns:</h5>

        
<div class="param-desc">
    - the user's id
</div>



<dl>
    <dt>
        Type
    </dt>
    <dd>
        
<span class="param-type">Object</span>


    </dd>
</dl>

    





        
            

    

    
    <h4 class="name" id="update"><span class="type-signature">(async) </span>update<span class="signature">(id, data)</span><span class="type-signature"> &rarr; {number}</span></h4>
    

    



<div class="description">
    Updates user information in the database based on the provided ID.
</div>









    <h5>Parameters:</h5>
    

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>id</code></td>
            

            <td class="type">
            
                
<span class="param-type">number</span>


            
            </td>

            

            

            <td class="description last">The ID of the user to update.</td>
        </tr>

    

        <tr>
            
                <td class="name"><code>data</code></td>
            

            <td class="type">
            
                
<span class="param-type">object</span>


            
            </td>

            

            

            <td class="description last">The data to update the user with.</td>
        </tr>

    
    </tbody>
</table>






<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="db_database.js.html">db/database.js</a>, <a href="db_database.js.html#line200">line 200</a>
    </li></ul></dd>
    

    

    

    
</dl>















<h5>Returns:</h5>

        
<div class="param-desc">
    - The number of rows affected.
</div>



<dl>
    <dt>
        Type
    </dt>
    <dd>
        
<span class="param-type">number</span>


    </dd>
</dl>

    





        
            

    

    
    <h4 class="name" id="updateLikes"><span class="type-signature">(async) </span>updateLikes<span class="signature">(id, data)</span><span class="type-signature"> &rarr; {Promise.&lt;number>}</span></h4>
    

    



<div class="description">
    Updates the likes for a specific user in the database.
</div>









    <h5>Parameters:</h5>
    

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>id</code></td>
            

            <td class="type">
            
                
<span class="param-type">string</span>


            
            </td>

            

            

            <td class="description last">The ID of the user.</td>
        </tr>

    

        <tr>
            
                <td class="name"><code>data</code></td>
            

            <td class="type">
            
                
<span class="param-type">string</span>


            
            </td>

            

            

            <td class="description last">The new petID to add to the user's likes.</td>
        </tr>

    
    </tbody>
</table>






<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="db_database.js.html">db/database.js</a>, <a href="db_database.js.html#line232">line 232</a>
    </li></ul></dd>
    

    

    

    
</dl>















<h5>Returns:</h5>

        
<div class="param-desc">
    The number of rows affected by the update.
</div>



<dl>
    <dt>
        Type
    </dt>
    <dd>
        
<span class="param-type">Promise.&lt;number></span>


    </dd>
</dl>

    





        
    

    

    
</article>

</section>




</div>

<nav>
    <h2><a href="index.html">Home</a></h2><h3>Global</h3><ul><li><a href="global.html#animalTypes">animalTypes</a></li><li><a href="global.html#checkEmailAvailability">checkEmailAvailability</a></li><li><a href="global.html#checkHashedPass">checkHashedPass</a></li><li><a href="global.html#checkUsernameAvailability">checkUsernameAvailability</a></li><li><a href="global.html#connectconnectsbackendtodatabase">connect connects back end to database</a></li><li><a href="global.html#create">create</a></li><li><a href="global.html#delete">delete</a></li><li><a href="global.html#disconnectdisconnectsbackendfromdatabase">disconnect disconnects back end from database</a></li><li><a href="global.html#executeQuerydisconnectsbackendfromdatabase">executeQuery disconnects back end from database</a></li><li><a href="global.html#fetchLikedPetDetails">fetchLikedPetDetails</a></li><li><a href="global.html#getAccessTokengetsapiaccesstokenfrompetfindersetsglobalvariabletothereturnedtokenandsettimeoutforthetokenexpirestosettheaccessTokenstringbackto''">getAccessToken gets api access token from petfinder
sets global variable to the returned token and set timeout for the token expires to set the accessToken string back to ''</a></li><li><a href="global.html#getPetsfunctionforencodingperferencestringsintoanintegerforstoringinthedatabaseusesuserPrefsStrToIntobjecttomapthestringstopowersof2mapstheelementsfromthestringarraytothepowersof2andtakesasumtobetheintegerrepresentationoftheuserspreferencesresultingintegeractsasabitarraywitha1setwheneverapreferrenceistrue">getPets
function for encoding perference strings into an integer for storing in the database
uses userPrefsStrToInt object to map the strings to powers of 2
maps the elements from the string array to the powers of 2 and takes a sum to be the integer representation of the users preferences
resulting integer acts as a bit array with a 1 set whenever a preferrence is true</a></li><li><a href="global.html#getSalt">getSalt</a></li><li><a href="global.html#getUserAnimalPrefsFromIntfunctionfordecodingtheintegerrepresentationoftheuserpreferencestogettheiranimaltypesreturnsanarrayoftheuser'sanimaltypepreferencesfiltersthearrayofallanimaltypesbyperformingabit-wiseANDwiththeuserprefint,and2**(indexvalueofpet)ifthatbitwassetwhentheintegerwasencoded,itwillreturntrueandthatanimalwillbeaddedtotheoutputarray">getUserAnimalPrefsFromInt
function for decoding the integer representation of the user preferences to get their animal types
returns an array of the user's animal type preferences
filters the array of all animal types by performing a bit-wise AND with the user pref int, and 2**(index value of pet)
if that bit was set when the integer was encoded, it will return true and that animal will be added to the output array</a></li><li><a href="global.html#getUserByEmail">getUserByEmail</a></li><li><a href="global.html#getUserLikesByEmail">getUserLikesByEmail</a></li><li><a href="global.html#getUsernameByEmail">getUsernameByEmail</a></li><li><a href="global.html#makeUserPrefsURLfunctionforbuildingthepartoftherequesturlforperfinderthatincludestheusersotherpreferencesreturnsastringtotheconcatonatedontotherestoftherequestURLdoessofollowingthesamemethodologyasprefsToInt,butstartsatanoffsetbasedonthelengthoftheanimalTypesarrayeachstringthatreturnstruefrombit-wiseANDwillbeconcatonatedontotheprefsUrlstring">makeUserPrefsURL
function for building the part of the request url for perfinder that includes the users other preferences
returns a string to the concatonated onto the rest of the request URL
does so following the same methodology as prefsToInt, but starts at an offset based on the length of the animalTypes array
each string that returns true from bit-wise AND will be concatonated onto the prefsUrl string</a></li><li><a href="global.html#otherPrefs">otherPrefs</a></li><li><a href="global.html#prefsToIntfunctionforencodingperferencestringsintoanintegerforstoringinthedatabaseusesuserPrefsStrToIntobjecttomapthestringstopowersof2mapstheelementsfromthestringarraytothepowersof2andtakesasumtobetheintegerrepresentationoftheuserspreferencesresultingintegeractsasabitarraywitha1setwheneverapreferrenceistrue">prefsToInt
function for encoding perference strings into an integer for storing in the database
uses userPrefsStrToInt object to map the strings to powers of 2
maps the elements from the string array to the powers of 2 and takes a sum to be the integer representation of the users preferences
resulting integer acts as a bit array with a 1 set whenever a preferrence is true</a></li><li><a href="global.html#readIdByUsername">readIdByUsername</a></li><li><a href="global.html#update">update</a></li><li><a href="global.html#updateLikes">updateLikes</a></li><li><a href="global.html#userPrefsStrToInt">userPrefsStrToInt</a></li></ul>
</nav>

<br class="clear">

<footer>
    Documentation generated by <a href="https://github.com/jsdoc/jsdoc">JSDoc 3.6.7</a> on Fri Dec 08 2023 14:44:34 GMT+0000 (Coordinated Universal Time)
</footer>

<script> prettyPrint(); </script>
<script src="scripts/linenumber.js"> </script>
</body>
</html>